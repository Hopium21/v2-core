## Accounts.sol testing scaffold

- [x]  `Allowances`
    - [x]  Single option transfer between empty accounts
    - [x]  Single asset transfer using submitTransfers
        - [x]  block if msg.sender doesn’t have allowance
        - [x]  block if subId + asset allowance < amount
        - [x]  allow if allowances not enough, but ERC721 approved
        - [x]  allow if allowances not enough, but ERC721 approvedForAll
        - [x]  correct final balances post multiple transfers
    - [x]  Multi subId transfer
        - [x]  block transfer if msg.sender doesn’t have allowance for specific subId
    - [x]  Multi account / subId transfer
        - [x]  block transfer if msg.sender doesn’t have allowance for one account
- [ ]  `submitTransfer/s()`
    - [ ] Adjusts balances correctly
- [ ]  `transferAll()`
    - [ ]  AMM 100 position manager migration
    - [ ]  merge - bypass PoM
    - [ ]  split -
    - [ ]  proportionate split?
- [ ]  `manager.handleAdjustment`
    - [ ]  block unsupported asset
    - [ ]  pass transfer between different risk managers
- [ ]  `asset.handleAdjustment`
    - [ ]  Asset mock interest accrual upon transfer
    - [ ]  USDC wrapper blocks negative adjustments
    - [ ]  USDC wrapper blocks manager from moving funds asymmetrically?
    - [ ]  block unsupported manager
- [ ]  manager `adjustBalance()`
    - [ ]  Manager force transfer on settlement
- [ ]  asset `adjustBalance()`
- [ ]  Liquidations
    - [ ]  Forceful auctions
- [ ]  Socialized losses
    - [x]  Option asset ratio post socialized loss
    - [x]  Asset augment finalBalance during transfer (positive → negative?)
    - [x]  Asset ratio stays the same with trade post socialized loss
- [ ]  Lending
    - [ ]  accrue interest

### Accounts gas benchmarks
- [ ]  Gas Testing
    - [ ]  Large
        - [ ]  100x position account to transfer 50x positions out to 0 (Expiration).
        - [ ]  100x position account to transfer 50x positions out to non-zero (split).
        - [ ]  100x position account to transfer 4x positions out to non-zero (split).
    - [ ]  Small
        - [ ]  0x position account to get 10x positions